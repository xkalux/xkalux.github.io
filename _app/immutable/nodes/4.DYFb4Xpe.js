import{d as rt,f as E,e as ct,a as I,s as _}from"../chunks/BOX8SYRG.js";import{i as dt}from"../chunks/J4k10p99.js";import{o as ut}from"../chunks/0g7lm0Hi.js";import{z as mt,A as pt,B as bt,C as ft,E as i,F as $,a as t,G as vt,H as f,s as r,I as s,u as xt,J as _t,K as gt,M as n,N as C}from"../chunks/Db4QX34E.js";import{i as J}from"../chunks/H1mLmQGd.js";import{s as wt,a as K}from"../chunks/u531CL-n.js";import{s as ht,w as N}from"../chunks/C2VZQYgh.js";import{s as B}from"../chunks/ByYXGTG7.js";import{b as yt}from"../chunks/Ddfq3vw5.js";var kt=E('<div class="flex flex-col p-2 bg-neutral rounded-box text-neutral-content shadow"><span class="countdown font-mono text-6xl"><span></span></span> <span class="text-xs tracking-wide opacity-80">min</span></div>'),At=E('<div class="flex flex-col p-2 bg-neutral rounded-box text-neutral-content shadow"><span class="countdown font-mono text-6xl"><span></span></span> <span class="text-xs tracking-wide opacity-80">sec</span></div>'),Mt=E('<textarea id="textarea" class="thai-lang text-error textarea text-4xl leading-relaxed font-semibold flex-1 min-h-0 w-full resize-none overflow-y-hidden border-none hover:box-border"></textarea> <div class="fixed top-20 right-4 z-50"><div class="grid grid-flow-col auto-cols-max gap-3 text-center transition-transform duration-300"><!> <!></div></div> <div class="fab"><div tabindex="0" role="button" class="btn btn-lg btn-circle mb-15"><span class="icon material-symbols-outlined" aria-hidden="true">settings</span></div> <button><span class="material-symbols-outlined"> </span> </button> <button class="btn btn-sm btn-error w-full gap-2" aria-label="รีเซ็ตเวลาเป็น 00:00"><span class="material-symbols-outlined">restart_alt</span> Reset (00 00)</button> <button class="btn btn-sm w-full gap-2" aria-label="เพิ่ม 1 นาที"><span class="material-symbols-outlined">add</span> 1 min</button> <button class="btn btn-sm w-full gap-2" aria-label="เพิ่ม 5 นาที"><span class="material-symbols-outlined">add</span> 5 min</button> <button class="btn btn-sm w-full gap-2" aria-label="เพิ่ม 10 นาที"><span class="material-symbols-outlined">add</span> 10 min</button> <button class="btn btn-sm w-full gap-2" aria-label="เพิ่ม 1 นาที"><span class="material-symbols-outlined">add</span> 1 sec</button></div> <dialog id="timeoutModal" class="modal"><div class="modal-box w-fit max-w-5xl"><h3 class="font-bold text-2xl"> </h3> <p class="py-2 text-2xl text-error"> </p></div> <form method="dialog" class="modal-backdrop"><button aria-label="Close">close</button></form></dialog>',1);function Vt(j,D){mt(D,!1);let H=f("Heads-up!"),m=f(""),o=f(0),l=f(0),d=f(!1),v=null;function L(){t(d)||(r(d,!0),v=setInterval(W,1e3))}function g(){r(d,!1),v!==null&&(clearInterval(v),v=null)}function P(){t(d)?g():L()}function Q(){g(),r(o,0),r(l,0)}function U(a){r(l,Math.max(0,t(l)+a))}function w(a){r(o,Math.max(0,t(o)+a))}function W(){if(t(o)===0&&t(l)===0){g(),Y(),X();return}t(l)>0?r(l,t(l)-1):t(o)>0&&(r(o,t(o)-1),r(l,59))}function X(){document.getElementById("timeoutModal")?.showModal()}function Y(){const a=window.AudioContext||window.webkitAudioContext,e=new a,c=e.createOscillator(),u=e.createGain();c.type="sine",c.frequency.value=880,c.connect(u),u.connect(e.destination);const b=e.currentTime;u.gain.setValueAtTime(1e-4,b),u.gain.exponentialRampToValueAtTime(.3,b+.02),c.start(b),u.gain.exponentialRampToValueAtTime(1e-4,b+1.2),c.stop(b+1.25)}ut(()=>{r(m,K.action.load())});function Z(){const a=document.getElementById("textarea");K.action.save(a.value)}pt(()=>t(m),()=>{if(t(m)){const a=document.getElementById("textarea");a.value=t(m),a.style.height="auto",a.style.height=a.scrollHeight+"px";const e=t(m).split(/\r?\n/)[0];r(H,e.length>1?`${e}`:"Heads-up!")}}),bt(),dt();var R=Mt(),x=ft(R);gt(x);var h=i(x,2),y=s(h),S=s(y);{var tt=a=>{var e=kt(),c=s(e),u=s(c);n(c),C(2),n(e),$(()=>B(u,`--value:${t(o)??""}; --digits: 2;`)),I(a,e)};J(S,a=>{t(o)>0&&a(tt)})}var at=i(S,2);{var et=a=>{var e=At(),c=s(e),u=s(c);n(c),C(2),n(e),$(()=>B(u,`--value:${t(l)??""}; --digits: 2;`)),I(a,e)};J(at,a=>{(t(o)>0||t(l)>0)&&a(et)})}n(y),n(h);var k=i(h,2),p=i(s(k),2);p.__click=P;var A=s(p),st=s(A,!0);n(A);var nt=i(A);n(p);var M=i(p,2);M.__click=Q;var V=i(M,2);V.__click=()=>w(1);var z=i(V,2);z.__click=()=>w(5);var O=i(z,2);O.__click=()=>w(10);var ot=i(O,2);ot.__click=()=>U(1),n(k);var G=i(k,2),q=s(G),T=s(q),lt=s(T,!0);n(T);var F=i(T,2),it=s(F,!0);n(F),n(q),C(2),n(G),$(a=>{B(y,`transform: scale(${t(d)?2:1}); transform-origin: top right;`),ht(p,1,`btn btn-sm w-full gap-2 ${t(d)?"btn-warning":"btn-success"}`),p.disabled=t(o)===0&&t(l)===0,wt(p,"aria-label",t(d)?"หยุดเวลา":"เริ่มนับถอยหลัง"),_(st,t(d)?"stop":"play_arrow"),_(nt,` ${t(d)?"Stop":"Start"}`),M.disabled=t(d)||t(o)===0&&t(l)===0,_(lt,t(H)),_(it,a)},[()=>(_t(N),xt(()=>N.getRandomTimeOut()))]),ct("blur",x,Z),yt(x,()=>t(m),a=>r(m,a)),I(j,R),vt()}rt(["click"]);export{Vt as component};
