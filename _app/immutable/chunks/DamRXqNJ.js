import{a as h,c as w,s as x}from"./u531CL-n.js";import{f as A,e as B,a as C,s as G}from"./BOX8SYRG.js";import{i as j}from"./J4k10p99.js";import{z as J,A as m,B as L,F as O,G as T,s as f,H as p,J as v,a as o,I as U,M as z}from"./Db4QX34E.js";import{s as F}from"./C2VZQYgh.js";import{p as l}from"./wiAsjyC1.js";import{s as N,a as P}from"./DWhKGWJG.js";import{s as q,g as E}from"./CyAOr46U.js";const d="google-token",u="usr",ee=()=>{const e=document.createElement("script");e.src="https://accounts.google.com/gsi/client",e.async=!0,e.defer=!0,document.body.appendChild(e)};async function te(e=()=>{}){google.accounts.oauth2.initTokenClient({client_id:w.google_client_id,scope:"openid email profile",callback:async s=>{s.access_token&&(localStorage.setItem(d,s.access_token),console.log("Access Token:",s.access_token),await e())}}).requestAccessToken()}async function se(e=()=>{}){localStorage.removeItem(d),localStorage.removeItem(u),h.passport.destroy(),h.classSheetScore.destroy(),await e()}async function oe(){if(localStorage.getItem(u))return M();const t=localStorage.getItem(d);if(!t||!t.includes("."))return;const c=await(await fetch("https://www.googleapis.com/oauth2/v3/userinfo",{headers:{Authorization:`Bearer ${t}`}})).json(),n={name:c.name,picture:c.picture,email:c.email};return H(n),n}function H(e){const t=JSON.stringify(e);let s=btoa(t);localStorage.setItem(u,s)}function M(){let e=localStorage.getItem(u);if(!e)return;const t=atob(e);return JSON.parse(t)}const W=()=>{const e=q;return{page:{subscribe:e.page.subscribe},navigating:{subscribe:e.navigating.subscribe},updated:e.updated}};var $=A("<button> </button>");function ae(e,t){J(t,!1);const s=()=>P(S,"$page",c),[c,n]=N(),r=p(),i=p(),_=p(),{page:S}=W();let g=l(t,"path",8,"/slides"),k=l(t,"label",8,"Score"),b=l(t,"exact",8,!1),y=l(t,"css_class",8,"");m(()=>s(),()=>{f(r,s().url.pathname.toLowerCase())}),m(()=>v(g()),()=>{f(i,String(g()).toLowerCase())}),m(()=>(v(b()),o(r),o(i)),()=>{f(_,b()?o(r)===o(i):o(r).includes(o(i)))}),L(),j();var a=$(),I=U(a,!0);z(a),O(()=>{x(a,"data-active",o(_)?"true":"false"),F(a,1,`btn relative ${y()??""}`,"svelte-x36n5k"),G(I,k())}),B("click",a,()=>E(g())),C(e,a),T(),n()}export{ae as B,se as a,oe as f,ee as i,te as s};
